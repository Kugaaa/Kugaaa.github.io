<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/air.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/air.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/air.svg">
  <link rel="mask-icon" href="/images/air.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.kuga.fun","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="背景看了新一期的阮一峰周刊，引用了一篇博客 Information Extraction with Large Language Models - Parsing Unstructured Data with GPT-3 Information Extraction with Large Language Models - Parsing Unstructured Data with GPT-3">
<meta property="og:type" content="article">
<meta property="og:title" content="LLM 信息提取结构化输出">
<meta property="og:url" content="https://www.kuga.fun/%E5%BC%80%E5%8F%91/LangChain/LLM%20%E4%BF%A1%E6%81%AF%E6%8F%90%E5%8F%96%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA.html">
<meta property="og:site_name" content="贫瘠之地">
<meta property="og:description" content="背景看了新一期的阮一峰周刊，引用了一篇博客 Information Extraction with Large Language Models - Parsing Unstructured Data with GPT-3 Information Extraction with Large Language Models - Parsing Unstructured Data with GPT-3">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.kuga.fun/%E5%BC%80%E5%8F%91/LangChain/LLM%20%E4%BF%A1%E6%81%AF%E6%8F%90%E5%8F%96%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA/%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA.png">
<meta property="article:published_time" content="2023-12-16T16:00:00.000Z">
<meta property="article:modified_time" content="2023-12-16T16:00:00.000Z">
<meta property="article:author" content="Kuga">
<meta property="article:tag" content="Prompt">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="LangChain">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.kuga.fun/%E5%BC%80%E5%8F%91/LangChain/LLM%20%E4%BF%A1%E6%81%AF%E6%8F%90%E5%8F%96%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA/%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA.png">

<link rel="canonical" href="https://www.kuga.fun/%E5%BC%80%E5%8F%91/LangChain/LLM%20%E4%BF%A1%E6%81%AF%E6%8F%90%E5%8F%96%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>LLM 信息提取结构化输出 | 贫瘠之地</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">贫瘠之地</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">华北无浪漫，死海扬起帆<br>多少个夜晚，独自望着天</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.kuga.fun/%E5%BC%80%E5%8F%91/LangChain/LLM%20%E4%BF%A1%E6%81%AF%E6%8F%90%E5%8F%96%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kuga">
      <meta itemprop="description" content="欢迎来到知识的荒漠">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="贫瘠之地">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          LLM 信息提取结构化输出
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-17 00:00:00" itemprop="dateCreated datePublished" datetime="2023-12-17T00:00:00+08:00">2023-12-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">开发</span></a>
                </span>
                  >
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91/LangChain/" itemprop="url" rel="index"><span itemprop="name">LangChain</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>看了新一期的阮一峰周刊，引用了一篇博客 <em>Information Extraction with Large Language Models - Parsing Unstructured Data with GPT-3</em></p>
<p><a target="_blank" rel="noopener" href="https://marcotm.com/articles/information-extraction-with-large-language-models-parsing-unstructured-data-with-gpt/">Information Extraction with Large Language Models - Parsing Unstructured Data with GPT-3 (marcotm.com)</a></p>
<blockquote>
<p>In the past months, ChatGPT has been dominating the news headlines, and people are both excited and scared by its quite sophisticated ability to generate texts. Besides short- and long-form text generation, there are quite a few other use cases which provide a lot of practical value. With the current generation of these large language models (LLMs), many of the classic tasks in Natural Language Processing (NLP) such as text classification, sentiment analysis, or named entity recognition, are almost trivial to solve.</p>
<p>在过去的几个月里，ChatGPT 一直占据着新闻头条，人们对它相当复杂的文本生成能力既兴奋又害怕，除了生成短格式和长格式文本外，还有许多其他用例提供了很大的实用价值</p>
<p>随着这些大型语言模型（LLM）的出现，自然语言处理（NLP）中的许多经典任务，如文本分类、情感分析或命名实体识别，几乎都很难解决</p>
<p>In this article, I have documented some experimentation with how to use GPT-3 (<em>update: and 3.5</em>) to extract structured information from unstructured texts and I hope the article can serve as a tutorial for how to approach such a task with an LLM.</p>
<p>在这篇文章中，我记录了一些关于如何使用 GPT-3（更新：和 3.5）从非结构化文本中提取结构化信息的实验，我希望这篇文章可以作为如何使用 LLM 处理此类任务的教程</p>
</blockquote>
<p>作者维护了一个招聘网站，但是招聘信息是以非结构化文本形式进行投递，作者希望将其重要信息提取出来，维护数据后用户可以通过相关性进行查询</p>
<blockquote>
<p>With about 500 job posts per month, some of them advertising multiple roles, we end up with over 1000 jobs per month. As you can see on the <a target="_blank" rel="noopener" href="https://www.hacker-jobs.com/">site</a>, there are several filters such as “remote”, “part-time”, etc. which allow you to narrow down the choices based on some general characteristics.</p>
<p>每月约有 500 个招聘信息，其中一些信息包含多个职位的内容，即我们最终每月有 1000 多个职位</p>
<p>正如你在网站上看到的，有几个过滤器，如“远程”、“兼职”等，允许你根据一些一般特征缩小选择范围</p>
<p>However, a job board usually also offers to select a certain job category (e.g., “iOS developer”). Since the “Who is hiring” threads are not limited to certain types of jobs and often there are interesting roles that might not fit into the usual categories, I tried a different approach for how to sort the jobs according to one’s interests: For each job, a text embedding for the job description (including the company description) is created, which then can be used to sort by similarity to a selected job.</p>
<p>然而，招聘委员会通常也会提供选择特定的工作类别（例如，“iOS开发者”）</p>
<p>由于“谁在招聘”主题并不局限于某些类型的工作，而且通常有一些有趣的角色可能不属于通常的类别，我尝试了一种不同的方法来根据个人的兴趣对工作进行排序：对于每个工作，都会创建一个 embedding  工作描述（包括公司描述）的文本，其然后可以用于根据与所选作业的相似性进行排序</p>
</blockquote>
<p>这里就来体验下作者对于 LLM（GPT-3.5）解析文本输出结构化信息的 prompt，以及尝试使用 LangChain 进行实现</p>
<h1 id="基本思路"><a href="#基本思路" class="headerlink" title="基本思路"></a>基本思路</h1><p>以下是作者制作出这一 Prompt 的主要想法和观察结果：</p>
<ul>
<li>提示首先描述基本任务 <code>turn unstructured job posting [..] into a JSON</code></li>
<li>提醒一则招聘信息可以包括多个角色或职位</li>
<li>详细描述了所需的输出格式；对于每个字段，指定字段名称和字段类型</li>
<li>对于某些字段给出了额外的提示，这些提示大多来自观察到的错误案例或不良行为；例如，角色有时以单数形式书写，有时以复数形式书写，原始提示逐字复制，但希望 LLM 可以将其标准化</li>
<li>让 LLM 清楚如果没有明确信息，可以将字段设置为 <code>null</code></li>
<li>在以前的版本中，在某些情况下职位会被列出两次，没有任何差异；原因是该招聘信息内容为该公司正在寻找两名开发，因此添加了指令，只包含了一次完全解决问题的需求</li>
<li>在说明之后，添加原始的招聘信息</li>
<li>然后声明输出使用 JSON 格式</li>
<li>在看到的一个技巧是用 <code>```json</code>，这是一些标记语言在文档中包含代码和类似文本的典型方式</li>
<li>最后还编写了应该完成的实际 JSON 的第一部分</li>
</ul>
<h1 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h1><p>作者认为对于这种任务，不希望模型变得有创造性</p>
<p>因此使用了以下参数：</p>
<ul>
<li>Temperature：0</li>
<li>Maximum：4000 - <length_of_the_prompt></li>
<li>Stop sequences：```</li>
<li>Top P：0.1</li>
<li>Frequency penalty：0</li>
<li>Presence penalty：0</li>
</ul>
<h1 id="Prompt"><a href="#Prompt" class="headerlink" title="Prompt"></a>Prompt</h1><p>文章中作者说明了 GPT-3.5 是基于聊天的模型，所以对 Prompt 进行了一些微调</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Your task is to parse an unstructured job posting and turn it into a JSON containing the most important information. The job posting can describe one or more jobs at the same company. The JSON should consist of the following information:</span><br><span class="line"> - The company name (field name: &quot;companyName&quot;, field type: string)</span><br><span class="line"> - the location of the company (field name: &quot;companyLocation&quot;, field type: string); if not explictily stated, you can try to infer the company&#x27;s actual location from other clues, e.g., something like &quot;Remote (US)&quot; usually means that the company is located in the US; if the location cannot be inferred, set it to null</span><br><span class="line"> - a short description of what the company is doing or building (field name: &quot;companyDescription&quot;, field type: string); try to keep it short (max length: ca. 300 characters)</span><br><span class="line"> - a list of advertised jobs (field name: &quot;jobs&quot;, field type: array).</span><br><span class="line">Each element of the &quot;jobs&quot; array should contain the following fields:</span><br><span class="line"> - The job title (field name: &quot;jobTitle&quot;, field type: string); the job title should be given in the singular form (i.e., Frontend Developer instead of Frontend Developers)</span><br><span class="line"> - the salary range (field name: &quot;salary&quot;, field type: string); only include explictly stated salary amounts, otherwise set to null</span><br><span class="line"> - whether equity is part of the compensation (field name: &quot;equity&quot;, field type: boolean)</span><br><span class="line"> - the benefits (field name: &quot;benefits&quot;, field type: string); include things like 401k, insurance, equipment, child care, etc. if stated, otherwise set to null</span><br><span class="line"> - the location of the job (field name: &quot;location&quot;, field type: string)</span><br><span class="line"> - whether this is a job for senior/experienced candidates (field name: &quot;senior&quot;, field type: boolean); typically senior, staff, lead, principal, vp, cto, etc. positions are all regarded as senior level</span><br><span class="line"> - whether it is a remote opportunity (field name: &quot;remote&quot;, field type: boolean)</span><br><span class="line"> - whether it can be done onsite from an office (field name: &quot;onsite&quot;, field type: boolean)</span><br><span class="line"> - whether it can be done part-time (field name: &quot;partTime&quot;, field type: boolean)</span><br><span class="line"> - whether it can be done full-time (field name: &quot;fullTime&quot;, field type: boolean)</span><br><span class="line"> - the URL to the specific job description (field name: &quot;jobUrl&quot;, field type: string)</span><br><span class="line"> - and any specific requirements/skills that might be stated (field name: &quot;requirements&quot;, field type: string).</span><br><span class="line">In general, if certain information is not stated, set the respective field to null. If the company seeks more than one person for the same role, include the role only once. Please output only the pure JSON representation. Do not include any explanations, comments, thoughts, etc. The output has to be a valid JSON object which can be parsed as is.</span><br><span class="line"></span><br><span class="line">This is the job posting:</span><br><span class="line"></span><br><span class="line">%s</span><br></pre></td></tr></table></figure>
<p>因为感觉 Azure 对于中文的支持比较好，这里我调整成了中文，并且使用 LangChain 工具进行 Prompt 的组装</p>
<p><strong>Prompt 组装</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">template = <span class="string">&quot;&quot;&quot;您的任务是解析一个非结构化的招聘信息，并将其转换为包含最重要信息的 JSON</span></span><br><span class="line"><span class="string">职位发布可以描述同一公司的一个或多个职位；JSON 应包含以下信息</span></span><br><span class="line"><span class="string">- 公司名称（字段名称：companyName，字段类型：字符串）</span></span><br><span class="line"><span class="string">- 公司的位置（字段名称：companyLocation，字段类型：字符串）；如果没有明确说明，你可以尝试从其他线索推断公司的实际位置，例如，像“远程（美国）”这样的词通常意味着公司位于美国；如果无法推断位置，请将其设置为 null</span></span><br><span class="line"><span class="string">- 公司正在做什么或正在建设什么的简短描述（字段名：companyDescription，字段类型：字符串）；尽量保持短（最大长度：约 300 个字符）</span></span><br><span class="line"><span class="string">- 招聘广告的职位清单（字段名：jobs，字段类型：数组）</span></span><br><span class="line"><span class="string">jobs 数组的每个元素都应包含以下字段：</span></span><br><span class="line"><span class="string">- 职务（字段名称：jobTitle，字段类型：字符串）；职位名称应以单数形式给出（即，前端开发人员而非前端开发人员）</span></span><br><span class="line"><span class="string">- 薪资范围（字段名称：salary，字段类型：字符串）；仅包括明确说明的工资金额，否则设置为 null</span></span><br><span class="line"><span class="string">- 股权是否是补偿的一部分（字段名称：equity，字段类型：布尔值）</span></span><br><span class="line"><span class="string">- 公司福利（字段名称：benefits，字段类型：字符串）；包括养老金、保险、设备、儿童保育、年假等，如果没有说明则设置为 null</span></span><br><span class="line"><span class="string">- 工作地点（字段名：location，字段类型：字符串）</span></span><br><span class="line"><span class="string">- 这是否是一份适合资深/有经验的候选人的工作（字段名称：senior，字段类型：布尔值）；通常，高级、职员、领导、校长、副总裁、首席技术官等职位都被视为高级职位</span></span><br><span class="line"><span class="string">- 是否为远程办公（字段名称：remote，字段类型：布尔值）</span></span><br><span class="line"><span class="string">- 是否可以兼职（字段名：partTime，字段类型：布尔值）</span></span><br><span class="line"><span class="string">- 特定作业描述的URL（字段名：jobUrl，字段类型：字符串）</span></span><br><span class="line"><span class="string">- 以及可能说明的任何特定要求/技能（字段名称：requirements，字段类型：字符串）</span></span><br><span class="line"><span class="string">通常，如果没有说明某些信息，请将相应的字段设置为 null</span></span><br><span class="line"><span class="string">如果公司为同一职位寻找多个人，则只包括该职位一次</span></span><br><span class="line"><span class="string">请仅输出纯 JSON 表示</span></span><br><span class="line"><span class="string">不包括任何解释、评论、想法等</span></span><br><span class="line"><span class="string">输出必须是一个有效的 JSON 对象，可以按原样解析</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">system_message_prompt = SystemMessagePromptTemplate.from_template(template)</span><br><span class="line">human_template = <span class="string">&quot;这是招聘信息：\n&#123;text&#125;&quot;</span></span><br><span class="line">human_message_prompt = HumanMessagePromptTemplate.from_template(human_template)</span><br></pre></td></tr></table></figure>
<p><strong>招聘信息存储在 txt 文件</strong></p>
<p>这里直接使用了阮一峰博客“谁在招人”广告中的招聘信息；具体内容可以查看</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ruanyf/weekly/issues/3684">谁在招人？（2023年12月） · Issue #3684 · ruanyf/weekly (github.com)</a></p>
<p>这里随便选取一个</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">【杭州】网易云音乐</span><br><span class="line">有意向的同学可联系 semanwmj@gmail.com</span><br><span class="line"></span><br><span class="line">资深前端开发工程师</span><br><span class="line">职位描述</span><br><span class="line">负责云音乐社交直播的前端开发工作。</span><br><span class="line">参与各类型项目（Web&amp;Webview、中后台系统、混合应用、小程序、创意活动及游戏）的前端开发工作，完成系统设计、技术选型、模块开发工作。</span><br><span class="line">以不断提升质量、效率、体验为目的，封装组件、沉淀文档、生产工具、搭建系统, 享受工程师的日常。</span><br><span class="line">分享自己日常的所见所想，引导同事共同成长，营造积极健康的技术氛围。</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 组装 chain</span></span><br><span class="line">chain = LLMChain(</span><br><span class="line">    llm=chat_model,</span><br><span class="line">    prompt=chat_prompt</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取文件</span></span><br><span class="line">file_path = <span class="string">&quot;../content.txt&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    content = file.read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行</span></span><br><span class="line">result = chain.run(content)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<p><strong>结果</strong></p>
<p>LLM 输出的 JSON 格式的结果</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;companyName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;网易云音乐&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;companyLocation&quot;</span><span class="punctuation">:</span> <span class="string">&quot;杭州&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;companyDescription&quot;</span><span class="punctuation">:</span> <span class="string">&quot;网易云音乐是一家位于杭州的音乐公司，专注于社交直播和音乐领域的前端开发工作。&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;jobs&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;jobTitle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;资深前端开发工程师&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;salary&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;equity&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;benefits&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;location&quot;</span><span class="punctuation">:</span> <span class="string">&quot;杭州&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;senior&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;remote&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;partTime&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;jobUrl&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;requirements&quot;</span><span class="punctuation">:</span> <span class="string">&quot;精通各种 Web 前端技术和标准(Javascript、HTML、CSS)，熟悉页面布局常用解决方案，对表现与数据分离、Web语义化等有深刻理解。熟练掌握一个数据驱动视图的框架（ React、Sevlte、Solid、Vue）。熟练掌握常用的前端构建工具（Webpack、Vite 等），并具有成熟的模块化开发思维。熟悉常用前端数据管理的解决方案（如 Redux、Zustand、Jotai 等），并清楚它们的优劣和应用场景。熟悉 HTTP 协议，并掌握相关网络调试工具，有服务端开发的背景常识。对重复性或不规范的工作容忍度低，能自发通 过沟通或技术手段解决。&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    ...</span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="LangChain-Pydantic-解析器"><a href="#LangChain-Pydantic-解析器" class="headerlink" title="LangChain Pydantic 解析器"></a>LangChain Pydantic 解析器</h1><p>上面已经使用 LangChain 管理了 LLM、Prompt，不如直接应用 Pydantic 解析器来直接解析成结构化的数据</p>
<p>好处是定义好结构后，LangChain 默认可以生成一套对于结构化输出的提示，即 <code>get_format_instructions</code> 方法</p>
<p><strong>结构定义</strong></p>
<p>这里使用 Pydantic 定义结构，对应上面的 Prompt</p>
<ul>
<li>字段名、数据类型进行对应，其中 <code>jobs</code> 的类型为新定义的 <code>Job</code> 结构</li>
<li>描述中拆分出 title 和 description；对于无法定义出区别的字段，就使用同样的值（例如 <code>股权是否是补偿的一部分</code>）</li>
<li>为了省事，所有的字段都声明了允许为 None；其实这个可以结合实际需求进行强校验，不通过往往说明招聘信息内容确实（例如换公司名称、公司位置等应该是必填项）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Job</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    jobTitle: <span class="built_in">str</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;职务&quot;</span>, description=<span class="string">&quot;职位名称应以单数形式给出（即，前端开发人员而非前端开发人员）&quot;</span>)</span><br><span class="line">    salary: <span class="built_in">str</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;薪资范围&quot;</span>, description=<span class="string">&quot;仅包括明确说明的工资金额，否则设置为 null&quot;</span>)</span><br><span class="line">    equity: <span class="built_in">bool</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;股权是否是补偿的一部分&quot;</span>, description=<span class="string">&quot;股权是否是补偿的一部分&quot;</span>)</span><br><span class="line">    benefits: <span class="built_in">str</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;公司福利&quot;</span>, description=<span class="string">&quot;包括养老金、保险、设备、儿童保育、年假等，如果没有说明则设置为 null&quot;</span>)</span><br><span class="line">    location: <span class="built_in">str</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;工作地点&quot;</span>, description=<span class="string">&quot;工作地点&quot;</span>, )</span><br><span class="line">    senior: <span class="built_in">bool</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;这是否是一份适合资深/有经验的候选人的工作&quot;</span>, description=<span class="string">&quot;这是否是一份适合资深/有经验的候选人的工作&quot;</span>)</span><br><span class="line">    remote: <span class="built_in">bool</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;是否为远程办公&quot;</span>, description=<span class="string">&quot;是否为远程办公&quot;</span>)</span><br><span class="line">    partTime: <span class="built_in">bool</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;是否可以兼职&quot;</span>, description=<span class="string">&quot;是否可以兼职&quot;</span>)</span><br><span class="line">    jobUrl: <span class="built_in">str</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;特定作业描述的URL&quot;</span>, description=<span class="string">&quot;特定作业描述的URL&quot;</span>, )</span><br><span class="line">    requirements: <span class="built_in">str</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;特定要求&quot;</span>, description=<span class="string">&quot;特定要求&quot;</span>, )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Info</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    companyName: <span class="built_in">str</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;公司名称&quot;</span>, description=<span class="string">&quot;公司名称&quot;</span>)</span><br><span class="line">    companyLocation: <span class="built_in">str</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;公司位置&quot;</span>, description=<span class="string">&quot;如果没有明确说明，你可以尝试从其他线索推断公司的实际位置，例如，像“远程（美国）”这样的词通常意味着公司位于美国；如果无法推断位置，请将其设置为 null&quot;</span>)</span><br><span class="line">    companyDescription: <span class="built_in">str</span> = Field(<span class="literal">None</span>, title=<span class="string">&quot;公司描述&quot;</span>, description=<span class="string">&quot;公司正在做什么或正在建设什么的简短描述，尽量保持短&quot;</span>)</span><br><span class="line">    jobs: <span class="type">List</span>[Job] = Field(<span class="literal">None</span>, title=<span class="string">&quot;职位清单&quot;</span>, description=<span class="string">&quot;招聘广告的职位清单&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>创建解析器和 Prompt</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pydantic 解析器</span></span><br><span class="line">pydantic_parser = PydanticOutputParser(pydantic_object=Info)</span><br><span class="line"></span><br><span class="line"><span class="comment"># get_format_instructions 用于获取生成的提示</span></span><br><span class="line">format_instructions = pydantic_parser.get_format_instructions()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将额外说明放在 Prompt 中</span></span><br><span class="line">prompt = PromptTemplate(</span><br><span class="line">    template=<span class="string">&quot;尽可能的将招聘信息解析为 JSON 格式\n通常，如果没有说明某些信息，请将相应的字段设置为 null；如果公司为同一职位寻找多个人，则只包括该职位一次\n请仅输出纯 JSON 表示。不包括任何解释、评论、想法等。输出必须是一个有效的 JSON 对象，可以按原样解析\n&#123;format_instructions&#125;\n&#123;text&#125;&quot;</span>,</span><br><span class="line">    input_variables=[<span class="string">&quot;text&quot;</span>],</span><br><span class="line">    partial_variables=&#123;<span class="string">&quot;format_instructions&quot;</span>: format_instructions&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><strong>执行</strong></p>
<p>执行同上，但是在 chain 中入参结果解析器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># output_parser 参数指定结果解析器</span></span><br><span class="line">chain = LLMChain(</span><br><span class="line">    llm=chat_model,</span><br><span class="line">    prompt=prompt,</span><br><span class="line">    output_parser=pydantic_parser</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">file_path = <span class="string">&quot;D:/WorkSpace_learn/langchain-test/text.txt&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    content = file.read()</span><br><span class="line"></span><br><span class="line">result = chain.run(content)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<p><strong>结果</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">companyName=<span class="string">&#x27;Apifox&#x27;</span> companyLocation=<span class="string">&#x27;天河 CBD&#x27;</span> companyDescription=<span class="string">&#x27;Apifox 是 API 文档、API 调试、API Mock、API 自动化测试一体化协作平台&#x27;</span> jobs=[Job(jobTitle=<span class="string">&#x27;初中级前端开发工程师&#x27;</span>, salary=<span class="string">&#x27;12~25K&#x27;</span>, equity=<span class="literal">None</span>, benefits=<span class="literal">None</span>, location=<span class="literal">None</span>, senior=<span class="literal">False</span>, remote=<span class="literal">False</span>, partTime=<span class="literal">False</span>, jobUrl=<span class="literal">None</span>, requirements=<span class="string">&#x27;本科及以上学历，至少 1 年以上 web 前端开发工作经验； 精通使用各种 web 前端技术，包括 HTML5/CSS/Javascript/TypeScript 等 ； 熟悉一种或多种常用前端框架，如（ React 、Vue 、Angular 等）； 熟悉使用 webpack 等模块化、工程化工具； 拥 有开发流程中的代码规范意识、配置管理规范意识、文档撰写规范意识；&#x27;</span>), Job(jobTitle=<span class="string">&#x27;高级前端开发工程师&#x27;</span>, salary=<span class="string">&#x27;20~40K&#x27;</span>, equity=<span class="literal">None</span>, benefits=<span class="literal">None</span>, location=<span class="literal">None</span>, senior=<span class="literal">True</span>, remote=<span class="literal">False</span>, partTime=<span class="literal">False</span>, jobUrl=<span class="literal">None</span>, requirements=<span class="string">&#x27;本科及以上学历，至少 1 年以上 web 前端开发工作经验； 精通使用各种 web 前端技术，包括 HTML5/CSS/Javascript/TypeScript 等； 熟悉一种或多种常用前端框架，如（ React 、Vue 、Angular 等）； 熟悉使用 webpack 等模块化、工程化工具； 拥有开发流程中的代码规范意识、配置管理规范意识、文档撰写规范意识；&#x27;</span>), Job(jobTitle=<span class="string">&#x27;专家前端开发工程师&#x27;</span>, salary=<span class="string">&#x27;35~60K&#x27;</span>, equity=<span class="literal">None</span>, benefits=<span class="literal">None</span>, location=<span class="literal">None</span>, senior=<span class="literal">True</span>, remote=<span class="literal">False</span>, partTime=<span class="literal">False</span>, jobUrl=<span class="literal">None</span>, requirements=<span class="string">&#x27;本科及以上学历，至少 1 年以上 web 前端开发工作经验； 精通使用各 种 web 前端技术，包括 HTML5/CSS/Javascript/TypeScript 等； 熟悉一种或多种常用前端框架，如（ React 、Vue 、Angular 等）； 熟悉使用 webpack 等模块化、工程化工具； 拥有开发流程中的代码规范意识、配置管理规范意识、文档撰 写规范意识；&#x27;</span>)]</span><br></pre></td></tr></table></figure>
<img src="/%E5%BC%80%E5%8F%91/LangChain/LLM%20%E4%BF%A1%E6%81%AF%E6%8F%90%E5%8F%96%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA/%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA.png" class="" title="结构化输出">
<h1 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h1><p>将文本解析为结构化数据带来的好处：</p>
<ul>
<li><strong>效率和成本</strong>：减少人工处理的工作量，提高数据处理的效率，降低数据处理的成本</li>
<li><strong>正确性</strong>：（也许？）避免了人为错误的可能性</li>
<li><strong>增强数据可用性</strong>：将文本转化为结构化数据后，数据变得更易于管理和分析</li>
<li><strong>支持决策制定：</strong> 结构化数据使得信息更容易理解和比较，为决策制定提供更多支持</li>
</ul>
<p>文中的需求一大特点就是用于增强数据的可用性</p>
<p>其次我认为是不是可以用来作为自然语言和 AI 沟通的桥梁；比如一个 SQL 需求， “查询学生姓名和年龄，按照成绩排序”</p>
<p>第一步先使用结构引导 LLM 对需求进行拆解，假设使用 JSON 结构</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;table&quot;</span><span class="punctuation">:</span> <span class="string">&quot;学生&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;filed&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;姓名&quot;</span><span class="punctuation">,</span><span class="string">&quot;年龄&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;order&quot;</span><span class="punctuation">:</span> <span class="string">&quot;成绩&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>第二步再以结构化数据驱动 LLM 转换为 SQL 结构，是不是可以更好地引导 LLM 对需求进行理解（我胡乱想的）</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Prompt/" rel="tag"># Prompt</a>
              <a href="/tags/AI/" rel="tag"># AI</a>
              <a href="/tags/LangChain/" rel="tag"># LangChain</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/%E5%BC%80%E5%8F%91/%E6%9D%82%E9%A1%B9/%E5%8D%87%E7%BA%A7%20MacOS%2014%20%E5%AF%BC%E8%87%B4%20embedded-redis%20%E4%B8%8D%E5%85%BC%E5%AE%B9.html" rel="prev" title="升级 MacOS 14 导致 embedded-redis 不兼容">
      <i class="fa fa-chevron-left"></i> 升级 MacOS 14 导致 embedded-redis 不兼容
    </a></div>
      <div class="post-nav-item">
    <a href="/%E4%BA%BA%E7%94%9F/%E5%AE%BF%E9%86%89/RECIPES%20-%20Mulled%20Wine.html" rel="next" title="RECIPES - Mulled Wine">
      RECIPES - Mulled Wine <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%83%8C%E6%99%AF"><span class="nav-number">1.</span> <span class="nav-text">背景</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF"><span class="nav-number">2.</span> <span class="nav-text">基本思路</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E6%95%B0"><span class="nav-number">3.</span> <span class="nav-text">参数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Prompt"><span class="nav-number">4.</span> <span class="nav-text">Prompt</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#LangChain-Pydantic-%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="nav-number">5.</span> <span class="nav-text">LangChain Pydantic 解析器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%9D%E8%80%83"><span class="nav-number">6.</span> <span class="nav-text">思考</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Kuga</p>
  <div class="site-description" itemprop="description">欢迎来到知识的荒漠</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">63</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>
    </div>

    <div>
      <div style="margin-top:15px">
        <a href="https://www.foreverblog.cn/go.html" target="_blank">
          <img alt="穿梭虫洞" src="https://img.foreverblog.cn/wormhole_2_tp.gif" style="width:auto;height:38px;" title="穿梭虫洞 - 随机访问十年之约友链博客">
        </a>
      </div>

      <div style="margin-top:10px">
        <a href="https://bjcp.kuga.fun" target="_blank">
          <img alt="BJCP Hub" src="https://kuga-pic-1258855810.cos.ap-beijing.myqcloud.com/bjcp_hub_logo.png" style="width:auto;height:30px;" title="BJCP Hub">
        </a>
      </div>

      <div style="margin-top:17px">
        <a href="https://github.com/Kugaaa" target="_blank">
          <img alt="Hello World" src="https://img.shields.io/badge/today-Earn%20this.%20Earn%20it-red?&labelColor=white&cacheSeconds=300" style="width:auto;height:20px;" title="Hello World">
        </a>
      </div>

      <div style="margin-top:20px">
          <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=400 src="//music.163.com/outchain/player?type=0&id=7776310945&auto=0&height=430"></iframe>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-solid fa-user-secret"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kuga</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

  

    </div>
</body>
</html>
